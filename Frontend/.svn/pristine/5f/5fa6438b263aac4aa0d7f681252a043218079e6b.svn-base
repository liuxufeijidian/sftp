<link rel="stylesheet" type="text/css" href="/components/parsley/parsley.css" />
<!-- widget grid -->
<section id="widget-grid" class="">
	<!-- row -->
	<div class="row">
		<div class="col-xs-12 col-sm-12 col-md-12 col-lg-12">
			<div class="alert alert-block alert-info">
				<h4 class="alert-heading"></h4>
				<p>
					您可以通过点击下方导入按钮批量导入设备，导入设备模板文件点击这里下载！
				</p>
				<br>
				<button id="importDeviceBtn" class="btn btn-primary" style="margin-left: 14px;"><strong><i class="fa fa-arrow-circle-right"></i> 批量导入设备 </strong></button>
			</div>
			<div class="alert alert-block alert-success" style="height: 88px">
				<h4 class="alert-heading">条件查询</h4>
				<form class="navbar-form navbar-left" role="search">
					<div class="form-group">
						<input type="text" class="form-control" placeholder="请输入imei码" id="imeiCardTxt">
					</div>
					<button type="submit" class="btn btn-default" id="search-btn">
						搜索
					</button>
				</form>
			</div>
		</div>
		<!-- NEW WIDGET START -->
		<article class="col-xs-12 col-sm-12 col-md-12 col-lg-12">
			<table id="jqgrid"></table>
			<div id="pjqgrid"></div>
		</article>
		<!-- WIDGET END -->
	</div>
	<!-- end row -->
</section>

<div id="addDeviceWindow" ng-app="deviceForm">
	<fieldset>
		<form class="form-inline smart-form" id="addDeviceForm" data-parsley-validate>
			<fieldset class="mySet" style="padding: 5px 14px 5px !important;background: none">
				<section ng-controller="partnerList">
					<label class="label">合作商</label>
					<label class="select">
						<select name="partnerId" class="input-xs" id="departData">
							<option ng-repeat="partner in partners" value="{{partner.partnerId}}">{{partner.partnerName}}</option>
						</select>
						<i></i>
					</label>
				</section>
				<section>
					<label class="label">imei码</label>
					<label class="input">
						<input type="text" name="imeiCard" class="input-xs" required="">
					</label>
				</section>
				<section>
					<label class="label">产品型号id</label>
					<label class="input">
						<input type="text" name="productModel" class="input-xs" required="">
					</label>
				</section>
				<section>
					<label class="label">出厂日期</label>
					<label class="input">
						<input type="text" name="outDate" class="input-xs" required="">
					</label>
				</section>
				<section>
					<label class="label">产品序列号</label>
					<label class="input">
						<input type="text" name="productNo" class="input-xs" required="">
					</label>
				</section>
				<section>
					<label class="label">随机码</label>
					<label class="input">
						<input type="text" name="randomCode" class="input-xs" required="">
					</label>
				</section>
				<section>
					<label class="label">设备密码</label>
					<label class="input">
						<input type="text" name="devicePwd" class="input-xs" required="">
					</label>
				</section>
				<section>
					<label class="label">是否激活</label>
					<label class="select">
						<select name="isActivity" class="input-xs">
							<option value="1">是</option>
							<option value="2">否</option>
						</select>
						<i></i>
					</label>
				</section>
			</fieldset>
		</form>
	</fieldset>
</div>

<div id="editDeviceWindow">
	<fieldset>
		<form class="form-inline smart-form" id="editDeviceForm" data-parsley-validate>
			<fieldset class="mySet" style="padding: 5px 14px 5px !important;background: none">
				<section>
					<label class="label">合作商</label>
					<label class="input"> <select name="partnerId" id="partnerId" class="input-xs"></select> </label>
				</section>
				<section>
					<label class="label">imei码</label>
					<label class="input">
						<input type="hidden" name="deviceId" id="deviceId" class="input-xs" required="">
						<input type="text" name="imeiCard" id="imeiCard" class="input-xs" required="">
					</label>
				</section>
				<section>
					<label class="label">产品型号id</label>
					<label class="input">
						<input type="text" name="productModel" id="productModel" class="input-xs" required="">
					</label>
				</section>
				<section>
					<label class="label">出厂日期</label>
					<label class="input">
						<input type="text" name="outDate" id="outDate" class="input-xs" required="">
					</label>
				</section>
				<section>
					<label class="label">产品序列号</label>
					<label class="input">
						<input type="text" name="productNo" id="productNo" class="input-xs" required="">
					</label>
				</section>
				<section>
					<label class="label">随机码</label>
					<label class="input">
						<input type="text" name="randomCode" id="randomCode" class="input-xs" required="">
					</label>
				</section>
				<section>
					<label class="label">设备密码</label>
					<label class="input">
						<input type="text" name="devicePwd" id="devicePwd" class="input-xs" required="">
					</label>
				</section>
				<section>
					<label class="label">是否激活</label>
					<label class="select">
						<select name="isActivity" id="isActivity" class="input-xs">
							<option value="1">是</option>
							<option value="2">否</option>
						</select>
						<i></i>
					</label>
				</section>
			</fieldset>
		</form>
	</fieldset>
</div>

<div id="importDeviceWindow" ng-app="importDeviceApp">
	<fieldset>
		<form class="form-inline smart-form" id="importDeviceForm" data-parsley-validate enctype="multipart/form-data" method="POST" action="/sys/upload">
			<fieldset class="mySet" style="padding: 5px 14px 5px !important;background: none" ng-controller="importDevice">
				<section>
					<label class="label">合作商</label>
					<label class="select">
						<select name="partnerId" class="input-xs" id="departDevice" data-placeholder="请选择合作商" ng-model="partnerId" ng-change="changePartner(partnerId)">
							<option value="" disabled selected="selected">请选择合作商</option>
							<option ng-repeat="partner in partners" value="{{partner.partnerId}}">{{partner.partnerName}}</option>
						</select> 
						<i></i>
					</label>
				</section>
				<section>
					<label class="label">产品型号</label>
					<label class="select">
						<select name="productModelId" class="input-xs">
							<option value="" disabled selected>请选择产品型号</option>
							<option ng-repeat="product in productId" value="{{product.id}}">{{product.productModel}}</option>
						</select>
						<i></i>
					</label>
				</section>
				<section>
					<label class="label">选择文件</label>
					<div class="input input-file">
						<span class="button">
							<input type="file" id="file" name="file" onchange="$('#fileName').val(this.value)">
							浏览 </span>
						<input id="fileName" type="text" readonly="" />
					</div>
				</section>
			</fieldset>
		</form>
	</fieldset>
</div>

<script type="text/javascript" src="/lib/mod.js"></script>
<section id="scriptTag"></section>
<!--SCRIPT_PLACEHOLDER-->
<script type="text/javascript">
	require.async("/modules/system/device");
</script>

