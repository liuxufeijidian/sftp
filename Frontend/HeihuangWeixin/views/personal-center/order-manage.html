<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8" />
		<meta content="width=device-width,initial-scale=1.0,minimum-scale=1.0,maximum-scale=1.0,user-scalable=no" id="viewport" name="viewport" />
		<meta content="telephone=no" name="format-detection" />
		<title>订单管理</title>
		<link href="/modules/base/css/common.css" rel="stylesheet" type="text/css">
		<link href="/modules/personal-center/css/personal-center.css" rel="stylesheet" type="text/css">
		<link href="/components/sweetalert/sweetalert.css" rel="stylesheet" type="text/css">
	</head>
	<body class="padding-side border-box" style="padding-top:70px">
		<div class="container order-fill">
			<nav class="nav fixed-height fixed-top flex">
				<ul class="flex flex-grow">
					<li class="equal-width flex-grow items-center flex">
						<a href="#" class="flex items-center justify-center selected flex-grow" id="carManage">
						<div class="flex-grow">
							车管家
						</div></a>
						<ul class="no-display hidden-ul">
							<li>
								<a th:href="@{/weixin/pageOrderManageIndex(userId=${userId}, orderType=1)}" class="flex items-center justify-center">包月洗车</a>
							</li>
							<li>
								<a th:href="@{/weixin/pageOrderManageIndex(userId=${userId}, orderType=0)}" class="flex items-center justify-center">单次洗车</a>
							</li>
							<li>
								<a th:href="@{/weixin/pageOrderManageIndex(userId=${userId}, orderType=2)}" class="flex items-center justify-center">次卡洗车</a>
							</li>
							<li>
								<a th:href="@{/weixin/pageOrderManageIndex(userId=${userId}, orderType=3)}" class="flex items-center justify-center">汽车美容</a>
							</li>
						</ul>
					</li>
					<li class="equal-width flex-grow flex">
						<a th:href="@{/weixin/pageOrderManageIndex(userId=${userId}, orderType=4)}" class="flex items-center justify-center flex-grow" id="petManage">
						<div class="flex-grow">
							宠物管家
						</div></a>
					</li>
				</ul>

			</nav>
			<div class="order-list" th:if="${orderType} == 0">
				<span style="font-size: 15px">单次洗车</span>
				<div style="height:15px"></div>
				<div class="order border radius" th:each="order : ${order}">
					<div class="radius book" th:if="${order.orderStatus} == 0 or ${order.orderStatus} == 1">
						未支付
					</div>
					<div class="radius book" th:if="${order.orderStatus} == 2">
						已支付
					</div>
					<div class="radius book" th:if="${order.orderStatus} == 3">
						服务结束
					</div>
					<div class="radius book" th:if="${order.orderStatus} == 7">
						已取消
					</div>
					<div class="padding-side">
						<p th:inline="text">
							订单号：[[${order.orderNumber}]]
						</p>
						<p th:inline="text">
							服务时间：[[${#calendars.format(order.serviceTime,'yyyy.MM.dd')}]]
						</p>
						<p th:inline="text">
							车牌号：[[${order.plate}]]
						</p>
						<p th:inline="text">
							车型：[[${order.carType}]]
						</p>
						<p th:inline="text">
							是否清洗内饰：[[${order.insideWash} == 1 ? '是' : '否']]
						</p>
						<p th:inline="text">
							价格：[[${order.payPrice} ]]
						</p>
					</div>
					<input type="hidden" th:value="${order.id}" class="orderId" />
					<input type="hidden" th:value="${order.orderNumber}" class="orderNo" />
					<div class="flex" th:if="${order.orderStatus} == 0">
						<a class="shadow bg fixed-height equal-width radius flex-grow flex items-center justify-center paySingle" href="#">立即购买</a>
						<a class="shadow bg fixed-height equal-width radius flex-grow flex items-center justify-center cancelSingle" href="#">取消订单</a>
					</div>
					<div class="flex" th:if="${order.orderStatus} == 1">
						<a class="shadow bg fixed-height equal-width radius flex-grow flex items-center justify-center" th:href="@{/weixin/pageSingleOrderDetail(orderId=${order.id})}">管理订单</a>
						<a class="shadow bg fixed-height equal-width radius flex-grow flex items-center justify-center cancelSingle" href="#">取消订单</a>
					</div>
					<div class="flex" th:if="${order.orderStatus} == 2 or ${order.orderStatus} == 3">
						<a class="shadow bg fixed-height radius flex-grow flex items-center justify-center" th:href="@{/weixin/pageSingleOrderDetail(orderId=${order.id})}">管理订单</a>
					</div>
					<div class="flex" th:if="${order.orderStatus} == 7">
						<a class="shadow bg fixed-height radius flex-grow flex items-center justify-center" href="tel:4008015560">联系客服</a>
					</div>
				</div>
			</div>
			<div class="order-list" th:if="${orderType} == 1">
				<span style="font-size: 15px">包月洗车</span>
				<div style="height:15px"></div>
				<div class="order border radius" th:each="order : ${order}">
					<div class="radius book" th:if="${order.orderStatus} == 0 or ${order.orderStatus} == 1">
						未支付
					</div>
					<div class="radius book" th:if="${order.orderStatus} == 2">
						已支付
					</div>
					<div class="radius book" th:if="${order.orderStatus} == 3">
						服务结束
					</div>
					<div class="radius book" th:if="${order.orderStatus} == 7">
						已取消
					</div>
					<div class="padding-side">
						<p th:inline="text">
							订单号：[[${order.orderNumber}]]
						</p>
						<p th:inline="text">
							车牌号：[[${order.plate}]]
						</p>
						<p th:inline="text">
							车型：[[${order.carType}]]
						</p>
						<p th:if="${order.orderType} == 0">
							套餐类型：每日一洗
						</p>
						<p th:if="${order.orderType} == 1">
							套餐类型：三日一洗
						</p>
						<p th:if="${order.orderType} == 2">
							套餐类型：五日一洗
						</p>
						<p th:inline="text">
							服务起始：[[${order.serviceRange}]]
						</p>
						<p th:inline="text">
							价格：[[${order.payPrice}]]
						</p>
					</div>
					<input type="hidden" th:value="${order.id}" class="orderId" />
					<input type="hidden" th:value="${order.orderNumber}" class="orderNo" />
					<div class="flex" th:if="${order.orderStatus} == 0">
						<a class="shadow bg fixed-height equal-width radius flex-grow flex items-center justify-center payMonth" href="#">立即购买</a>
						<a class="shadow bg fixed-height equal-width radius flex-grow flex items-center justify-center cancelMonth" href="#">取消订单</a>
					</div>
					<div class="flex" th:if="${order.orderStatus} == 1">
						<a class="shadow bg fixed-height equal-width radius flex-grow flex items-center justify-center" th:href="@{/weixin/pageMonthOrderDetail(orderId=${order.id})}">管理订单</a>
						<a class="shadow bg fixed-height equal-width radius flex-grow flex items-center justify-center cancelMonth" href="#">取消订单</a>
					</div>
					<div class="flex" th:if="${order.orderStatus} == 2 or ${order.orderStatus} == 3">
						<a class="shadow bg fixed-height radius flex-grow flex items-center justify-center" th:href="@{/weixin/pageMonthOrderDetail(orderId=${order.id})}">管理订单</a>
					</div>
					<div class="flex" th:if="${order.orderStatus} == 7">
						<a class="shadow bg fixed-height radius flex-grow flex items-center justify-center" href="tel:4008015560">联系客服</a>
					</div>
				</div>
			</div>
			<div class="order-list" th:if="${orderType} == 2">
				<span style="font-size: 15px">次卡洗车</span>
				<div style="height:15px"></div>
				<div class="order border radius" th:each="order : ${order}">
					<div class="radius book" th:if="${order.orderStatus} == 0 or ${order.orderStatus} == 1">
						未支付
					</div>
					<div class="radius book" th:if="${order.orderStatus} == 2">
						已支付
					</div>
					<div class="radius book" th:if="${order.orderStatus} == 3">
						服务结束
					</div>
					<div class="radius book" th:if="${order.orderStatus} == 7">
						已取消
					</div>
					<div class="padding-side">
						<p th:inline="text">
							订单号：[[${order.orderNumber}]]
						</p>
						<p th:if="${order.orderType} == 0">
							套餐类型：半年10次
						</p>
						<p th:if="${order.orderType} == 1">
							套餐类型：半年20次
						</p>
						<p th:if="${order.orderType} == 2">
							套餐类型：季度10次
						</p>
						<p th:inline="text">
							服务起始：[[${order.serviceRange}]]
						</p>
						<p th:inline="text">
							剩余次数：[[${order.leftCount}]]
						</p>
						<p th:inline="text">
							价格：[[${order.payPrice}]]
						</p>
					</div>
					<input type="hidden" th:value="${order.id}" class="orderId" />
					<input type="hidden" th:value="${order.orderNumber}" class="orderNo" />
					<div class="flex" th:if="${order.orderStatus} == 0">
						<a class="shadow bg fixed-height equal-width radius flex-grow flex items-center justify-center payCard" href="#">立即购买</a>
						<a class="shadow bg fixed-height equal-width radius flex-grow flex items-center justify-center cancelCard" href="#">取消订单</a>
					</div>
					<div class="flex" th:if="${order.orderStatus} == 1">
						<a class="shadow bg fixed-height equal-width radius flex-grow flex items-center justify-center" th:href="@{/weixin/pageCardOrderDetail(orderId=${order.id}, villeage=${user.villeageId})}">管理订单</a>
						<a class="shadow bg fixed-height equal-width radius flex-grow flex items-center justify-center cancelCard" href="#">取消订单</a>
					</div>
					<div class="flex" th:if="${order.orderStatus} == 2 or ${order.orderStatus} == 3">
						<a class="shadow bg fixed-height radius flex-grow flex items-center justify-center" th:href="@{/weixin/pageCardOrderDetail(orderId=${order.id},villeage=${user.villeageId})}">管理订单</a>
					</div>
					<div class="flex" th:if="${order.orderStatus} == 7">
						<a class="shadow bg fixed-height radius flex-grow flex items-center justify-center" href="tel:4008015560">联系客服</a>
					</div>
				</div>
			</div>
			<div class="order-list" th:if="${orderType} == 3">
				<span style="font-size: 15px">汽车美容</span>
				<div style="height:15px"></div>
				<div class="order border radius" th:each="order : ${order}">
					<div class="radius book" th:if="${order.orderStatus} == 0 or ${order.orderStatus} == 1">
						未支付
					</div>
					<div class="radius book" th:if="${order.orderStatus} == 2">
						已支付
					</div>
					<div class="radius book" th:if="${order.orderStatus} == 3">
						服务结束
					</div>
					<div class="radius book" th:if="${order.orderStatus} == 7">
						已取消
					</div>
					<div class="padding-side">
						<p th:inline="text">
							订单号：[[${order.orderNumber}]]
						</p>
						<p th:inline="text">
							车牌号：[[${order.plate}]]
						</p>
						<p th:inline="text">
							车型：[[${order.carType}]]
						</p>
						<p th:inline="text">
							服务项目：[[${order.beautyType}]]
						</p>
						<p th:inline="text">
							服务时间：[[${#calendars.format(order.serviceTime,'yyyy.MM.dd')}]]
						</p>
						<p th:inline="text">
							价格：[[${order.payPrice}]]
						</p>
					</div>
					<input type="hidden" th:value="${order.id}" class="orderId" />
					<input type="hidden" th:value="${order.orderNumber}" class="orderNo" />
					<div class="flex" th:if="${order.orderStatus} == 0">
						<a class="shadow bg fixed-height equal-width radius flex-grow flex items-center justify-center payBeauty" href="#">立即购买</a>
						<a class="shadow bg fixed-height equal-width radius flex-grow flex items-center justify-center cancelCarBeauty" href="#">取消订单</a>
					</div>
					<div class="flex" th:if="${order.orderStatus} == 1">
						<a class="shadow bg fixed-height equal-width radius flex-grow flex items-center justify-center" th:href="@{/weixin/pageCarBeautyDetail(orderId=${order.id})}">管理订单</a>
						<a class="shadow bg fixed-height equal-width radius flex-grow flex items-center justify-center cancelCarBeauty" href="#">取消订单</a>
					</div>
					<div class="flex" th:if="${order.orderStatus} == 2 or ${order.orderStatus} == 3">
						<a class="shadow bg fixed-height radius flex-grow flex items-center justify-center" th:href="@{/weixin/pageCarBeautyDetail(orderId=${order.id})}">管理订单</a>
					</div>
					<div class="flex" th:if="${order.orderStatus} == 7">
						<a class="shadow bg fixed-height radius flex-grow flex items-center justify-center" href="tel:4008015560">联系客服</a>
					</div>
				</div>
			</div>
			<div class="order-list" th:if="${orderType} == 4">
				<span style="font-size: 15px">宠物订单</span>
				<div style="height:15px"></div>
				<div class="order border radius" th:each="order : ${order}">
					<div class="radius paid" th:if="${order.orderStatus} == 7">
						已取消
					</div>
					<div class="radius paid" th:if="${order.orderStatus} == 8">
						待支付
					</div>
					<div class="radius paid" th:if="${order.orderStatus} == 5">
						已接单
					</div>
					<div class="radius paid" th:if="${order.orderStatus} == 2">
						已支付
					</div>
					<div class="radius paid" th:if="${order.orderStatus} == 1">
						未支付
					</div>
					<div class="radius paid" th:if="${order.orderStatus} == 0">
						未支付
					</div>
					<div class="radius paid" th:if="${order.orderStatus} == 3">
						服务结束
					</div>
					<div class="padding-side">
						<p th:inline="text">
							订单号：[[${order.orderNumber}]]
						</p>
						<p th:inline="text">
							服务时间：[[${#calendars.format(order.time,'yyyy.MM.dd')}]]
						</p>
						<p th:inline="text">
							服务项目：[[${order.petItem} == null ? '待服务人员确认' : ${order.petItem}]]
						</p>
						<p th:inline="text">
							购买产品：无
						</p>
						<p th:inline="text">
							价格：[[${order.payPrice} == null ? '待服务人员确认' : ${order.payPrice}]]
						</p>
					</div>
					<input type="hidden" th:value="${order.id}" class="orderId" />
					<input type="hidden" th:value="${order.orderNumber}" class="orderNo" />
					<div class="flex" th:if="${order.orderStatus} == 6">
						<a href="tel:4008015560" class="shadow bg fixed-height equal-width radius flex-grow flex items-center justify-center">联系客服</a>
						<a href="#" class="shadow bg fixed-height equal-width radius flex-grow flex items-center justify-center cancelOrder">取消订单</a>
					</div>
					<div class="flex" th:if="${order.orderStatus} == 2">
						<a href="#" class="shadow bg fixed-height equal-width radius flex-grow flex items-center justify-center">服务评价</a>
					</div>
					<div class="flex"  th:if="${order.orderStatus} == 8 or ${order.orderStatus} == 1 or ${order.orderStatus} == 0">
						<a href="#" class="shadow bg equal-width fixed-height equal-width radius flex-grow flex items-center justify-center cashPay">现金支付</a>
						<a href="#" class="shadow bg equal-width fixed-height equal-width radius flex-grow flex items-center justify-center weixinPay">微信支付</a>
					</div>
					<div class="flex" th:if="${order.orderStatus} == 5">
						<a href="#" class="shadow bg fixed-height equal-width radius flex-grow flex items-center justify-center">联系师傅</a>
					</div>
					<div class="flex" th:if="${order.orderStatus} == 7 or ${order.orderStatus} == 3">
						<a href="tel:4008015560" class="shadow bg fixed-height equal-width radius flex-grow flex items-center justify-center">联系客服</a>
					</div>
				</div>
			</div>
		</div>
		<input type="hidden" id="villeage" th:value="${user.villeage}" />
		<input type="hidden" id="openId" th:value="${user.openId}" />
		<input type="hidden" id="orderType" th:value="${orderType}" />
		<script type="text/javascript" src="/lib/mod.js"></script>
		<script src="http://res.wx.qq.com/open/js/jweixin-1.0.0.js"></script>
		<!--SCRIPT_PLACEHOLDER-->
	
		<script type="text/javascript">
			require("/modules/personal-center/js/order-manage");
		</script>

	</body>
</html>
